@use 'variables' as *;
@use 'sass:map';

@font-face {
    font-family: 'Nunito';
    font-style: normal;
    src:
        url('@/fonts/Nunito/Nunito-VariableFont_wght.ttf') format('truetype'),
        url('@/fonts/Nunito/Nunito-Italic-VariableFont_wght.ttf') format('truetype');
    font-display: swap;
}

@font-face {
    font-family: 'Nunito Sans';
    font-style: normal;
    src:
        url('@/fonts/Nunito_Sans/NunitoSans-VariableFont_YTLC,opsz,wdth,wght.ttf')
            format('truetype'),
        url('@/fonts/Nunito_Sans/NunitoSans-Italic-VariableFont_YTLC,opsz,wdth,wght.ttf')
            format('truetype');
    font-display: swap;
}

$typography-presets: (
    // P1: Největší nadpis, přiřazen k H2 v sémantické mapě - 72px (D), 64px (T), 52px (M)
    'preset-1': (
            'size': 7.2rem,
            'weight': $fw-extrabold,
            'lh': 1.1,
            // 110%
            'ls': -0.027em,
            // Přibližně -2px (relativní k font-size)
            'md': 6.4rem,
            'sm': 5.2rem,
        ),

    // P2: H3 - 48px (D), 40px (M)
    'preset-2': (
            'size': 4.8rem,
            'weight': $fw-extrabold,
            'lh': 1.2,
            'ls': -0.041em,
            // Přibližně -2px
            'sm': 4rem,
        ),

    // P3: H4 - 32px
    'preset-3': (
            'size': 3.2rem,
            'weight': $fw-bold,
            'lh': 1.3,
            'ls': -0.031em,
            // Přibližně -1px
        ),

    // P4: H5 - 24px
    'preset-4': (
            'size': 2.4rem,
            'weight': $fw-bold,
            'lh': 1.3,
            'ls': -0.031em,
            // Přibližně -1px
        ),

    // P5: 20px
    'preset-5': (
            'size': 2rem,
            'weight': $fw-bold,
            'lh': 1.4,
            'ls': -0.5px,
            // Možná bude potřeba upravit (-0.5px)
        ),

    // P6: 20px
    'preset-6': (
            'size': 2rem,
            'weight': $fw-medium,
            'lh': 1.5,
            'ls': -0.4px,
            // Možná bude potřeba upravit (-0.4px)
        ),

    // P7: 18px
    'preset-7': (
            'size': 1.8rem,
            'weight': $fw-semibold,
            'lh': 1.5,
            'ls': -0.3px,
            // Možná bude potřeba upravit (-0.4px)
        ),

    // P8: Základní text (16px)
    'preset-8': (
            'size': 1.6rem,
            'weight': $fw-bold,
            'lh': 1.5,
            'ls': -0.019em,
            // Přibližně -0.3px
        ),
    // P9: Základní text (16px)
    'preset-9': (
            'size': 1.6rem,
            'weight': $fw-medium,
            'lh': 1.5,
            'ls': -0.019em,
            // Přibližně -0.3px
        ),
    // P10: Základní text (14px)
    'preset-10': (
            'size': 1.4rem,
            'weight': $fw-bold,
            'lh': 1.5,
            'ls': -0.019em,
            // Přibližně -0.3px
        )
);

$semantic-text-roles: (
    'h2': 'preset-1',
    'h3': 'preset-2',
    'h4': 'preset-3',
    'h5': 'preset-4',
    'h6': 'preset-5',
    'button-text-primary': 'preset-5',
    'button-text-secondary': 'preset-8',
    'button-text-small': 'preset-7',
    'nav-links': 'preset-7',
    'body-text': 'preset-6',
    'ul-li-text': 'preset-6',
    'recipe-card-text': 'preset-8',
    'recipe-detail-meta': 'preset-7',
    'search-input-text': 'preset-7',
    'drop-down-text': 'preset-7',
);

// =========================================================
// 2. MIXIN: FUNKCE PRO APLIKACI STYLŮ
// =========================================================

@mixin apply-text-style($role) {
    $preset-name: map.get($semantic-text-roles, $role);
    $preset: map.get($typography-presets, $preset-name);

    font-size: map.get($preset, 'size');
    font-weight: map.get($preset, 'weight');
    line-height: map.get($preset, 'lh');
    letter-spacing: map.get($preset, 'ls');

    // Responzivita pro Tablet
    @if map.has-key($preset, 'md') {
        @media (max-width: $breakpoint-md) {
            font-size: map.get($preset, 'md');
        }
    }

    // Responzivita pro Mobile
    @if map.has-key($preset, 'sm') {
        @media (max-width: $breakpoint-sm) {
            font-size: map.get($preset, 'sm');
        }
    }
}
